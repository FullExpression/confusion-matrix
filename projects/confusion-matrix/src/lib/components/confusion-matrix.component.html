<div class="confusion-matrix-wrapper" class="{{size}}" *ngIf="_confusionMatrix" #confusionMatrix
    (mouseover)="showOption = true;" (mouseleave)="showOption = false">
    <div class="title">
        <div>
            <span type='text' (focusout)="changeTitle($event);" contenteditable>{{title}}</span>
        </div>
        <div class="options" [@inOutAnimation] *ngIf="showOption || showConfigurationPanel"
            (click)="showConfigurationPanel = true;">
            ⚙️ Change configurations
        </div>
    </div>
    <div class="confusion-matrix">
        <div class="rows-label">
            <div class="row-label" *ngFor="let label of _confusionMatrix.labels; let i = index">
                <span type='text' (focusout)="changeLabel($event, i);" contenteditable>{{label}}</span>
            </div>
        </div>
        <div class="rows" #rows>
            <div class="row" *ngFor="let label of _confusionMatrix.labels; let rowIndex = index">
                <div class="columns">
                    <div class="column" [style.background-color]="getColor(column)"
                        *ngFor="let column of _confusionMatrixTransposed.matrix[rowIndex]; let columnIndex = index">
                        <span type='text' (focusout)="matrixValueChange($event, columnIndex , rowIndex);"
                            contenteditable>{{column | number:
                            roundRules}}</span>
                    </div>
                    <div class="row-label">
                        <span type='text' (focusout)="changeLabel($event, rowIndex);" contenteditable>{{label}}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="intensity-bar" [style.height.px]="intensityHeight">
            <div class="bar" [ngStyle]="getGradientBackground()"></div>
            <div class="measure-wrapper">
                <div class="measure" *ngFor="let item of _levelsColor; let i = index">
                    <div class="dash"></div>
                    <div class="value">{{ getIntensityNumber(i) | number: roundRules }}</div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="configurations-panel" *ngIf="showConfigurationPanel" [@outAnimation]>
    <configurations [(visible)]="showConfigurationPanel" [editMode]="editMode" (optionChange)="optionChanged($event)">
    </configurations>
</div>