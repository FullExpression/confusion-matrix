<div class="confusion-matrix-wrapper" class="{{size}}" *ngIf="_confusionMatrix" #confusionMatrix
    (mouseover)="showOption = true;" (mouseleave)="showOption = false">
    <div class="title">
        <div class="options" [@inAnimation] *ngIf="showOption || showConfigurationPanel"
            (click)="showConfigurationPanel = true;">
            ⚙️ Change configurations
        </div>
        <div *ngIf="!showOption && !showConfigurationPanel" [@inAnimation]>
            <div class="title-value" *ngIf="!editMode">{{ title }}</div>
            <div class="title-edit" *ngIf="editMode">
                <input type='text' [(ngModel)]="title" />
            </div>
        </div>

    </div>
    <div class="confusion-matrix">
        <div class="rows-label">
            <div class="row-label" *ngFor="let label of _confusionMatrix.labels; let i = index">
                <div class="label-value" *ngIf="!editMode">{{ label }}</div>
                <div class="label-edit" *ngIf="editMode">
                    <input type='text' [(ngModel)]="_confusionMatrix.labels[i]" />
                </div>
            </div>
        </div>
        <div class="rows" #rows>
            <div class="row" *ngFor="let label of _confusionMatrix.labels; let rowIndex = index">
                <div class="columns">
                    <div class="column" [style.background-color]="getColor(column)"
                        *ngFor="let column of _confusionMatrixTransposed.matrix[rowIndex]; let columnIndex = index">
                        <div class="column-value" *ngIf="!editMode">{{column | number: roundRules}}</div>
                        <div class="column-edit" *ngIf="editMode">
                            <input type='text' [value]="column"
                                (change)="matrixValueChange($event, columnIndex , rowIndex)" />
                        </div>
                    </div>
                    <div class="row-label">{{label}}</div>
                </div>
            </div>
        </div>
        <div class="intensity-bar" [style.height.px]="intensityHeight">
            <div class="bar" [ngStyle]="getGradientBackground()"></div>
            <div class="measure-wrapper">
                <div class="measure" *ngFor="let item of _levelsColor; let i = index">
                    <div class="dash"></div>
                    <div class="value">{{ getIntensityNumber(i) | number: roundRules }}</div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="configurations-panel" *ngIf="showConfigurationPanel" [@outAnimation]>
    <configurations [(visible)]="showConfigurationPanel" [editMode]="editMode" (optionChange)="optionChanged($event)">
    </configurations>
</div>